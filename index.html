<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>vue-code-study</title>
    <style>
      body {
        padding: 0 20px;
        background-color: #eff3f4;
      }
      .vue-container {
        box-sizing: border-box;
        width: 100%;
        height: 650px;
        padding: 20px;
        background-color: #fff;
      }
      .ctol-container {
        box-sizing: border-box;
        width: 100%;
        padding: 20px;
        background-color: #fff;
      }
    </style>
    <script>
        const stateKeyMap = ['init', 'parse', 'render', 'update']

        stateKeyMap.map((stateKey, index) => {
          // 初始化数据
          const stateVal = parseInt(localStorage.getItem(stateKey)) || 0
          window[stateKey + 'ConsoleControl'] = stateVal
        })
    </script>
  </head>
  <body>
    <h2>vue内容区</h2>
    <div class="vue-container">
        <div id="app">APP节点</div>
        <!-- <p>APP后的节点</p> -->
        <!-- <div id="app2">APP2节点</div> -->
    </div>

    <h2>控制区</h2>
    <div class="ctol-container">
      <p>
        <button>init Console Control</button>
        <span></span>
      </p>
      <p>
        <button>parse Console Control</button>
        <span></span>
      </p>
      <p>
        <button>render Console Control</button>
        <span></span>
      </p>
      <p>
        <button>update Console Control</button>
        <span></span>
      </p>
    </div>
  </body>

  <script>
      const textMap = ['关', '开']
      const stateBtnGroup = document.querySelectorAll('.ctol-container button')
      const stateTextGroup = document.querySelectorAll('.ctol-container span')

      stateKeyMap.map((stateKey, index) => {
        // 初始化数据
        const stateVal = parseInt(localStorage.getItem(stateKey)) || 0
        const stateText = stateTextGroup[index]
        stateText.innerHTML = textMap[stateVal]

        // 绑定事件
        const stateBtn = stateBtnGroup[index]
        stateBtn.addEventListener('click', () => {
          const currentStateVal = parseInt(localStorage.getItem(stateKey)) || 0
          const newStateVal = +!currentStateVal
          localStorage.setItem(stateKey, newStateVal)
          window.location.reload()
        })
      })
  </script>
</html>
